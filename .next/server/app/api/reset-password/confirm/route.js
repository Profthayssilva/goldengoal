"use strict";(()=>{var e={};e.id=1030,e.ids=[1030],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6113:e=>{e.exports=require("crypto")},19866:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>h,originalPathname:()=>v,patchFetch:()=>P,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>w,staticGenerationAsyncStorage:()=>m,staticGenerationBailout:()=>f});var a={};t.r(a),t.d(a,{POST:()=>d});var o=t(95419),s=t(69108),i=t(99678),n=t(78070),u=t(9108),p=t(20288);async function d(e){let{token:r,password:t}=await e.json(),a=await u.prisma.passwordReset.findUnique({where:{token:r}});return!a||a.expiresAt<new Date?n.default.json({error:"Token inv\xe1lido ou expirado"},{status:400}):(await u.prisma.user.update({where:{email:a.email},data:{hashedPassword:(0,p.c_)(t)}}),await u.prisma.passwordReset.delete({where:{token:r}}),n.default.json({ok:!0}))}let c=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/reset-password/confirm/route",pathname:"/api/reset-password/confirm",filename:"route",bundlePath:"app/api/reset-password/confirm/route"},resolvedPagePath:"D:\\fut7\\app\\api\\reset-password\\confirm\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:w,headerHooks:h,staticGenerationBailout:f}=c,v="/api/reset-password/confirm/route";function P(){return(0,i.patchFetch)({serverHooks:w,staticGenerationAsyncStorage:m})}},20288:(e,r,t)=>{t.d(r,{Mb:()=>s,c_:()=>i});var a=t(7529),o=t(6113);function s(){return(0,o.randomUUID)()+(0,o.randomUUID)()}function i(e){return a.ZP.hashSync(e,10)}},9108:(e,r,t)=>{t.d(r,{Z:()=>o});let a=require("@prisma/client"),o=globalThis.prisma??new a.PrismaClient({log:["query","error","warn"]})}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[1638,6206,7529],()=>t(19866));module.exports=a})();